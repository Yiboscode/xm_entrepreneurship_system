# å¿«é€Ÿéƒ¨ç½²ä½¿ç”¨è¯´æ˜

## ğŸ“‹ ä¸‰ç§éƒ¨ç½²æ–¹å¼

### æ–¹å¼ä¸€ï¼šå®Œæ•´éƒ¨ç½²ï¼ˆé¦–æ¬¡éƒ¨ç½²æˆ–å¤§æ”¹åŠ¨ï¼‰

```bash
cd ~/xm_entrepreneurship_system

# å¦‚æœæ˜¯æ–°å…‹éš†çš„é¡¹ç›®ï¼Œå…ˆä¸Šä¼ SQLæ–‡ä»¶
# æœ¬åœ°æ‰§è¡Œï¼šscp entrepreneurship_system.sql ubuntu@119.29.152.18:~/xm_entrepreneurship_system/init.sql

# æ‰§è¡Œå®Œæ•´éƒ¨ç½²
chmod +x deploy.sh
./deploy.sh
```

**é€‚åˆåœºæ™¯**ï¼š
- é¦–æ¬¡éƒ¨ç½²
- å¤§ç‰ˆæœ¬æ›´æ–°
- ä¾èµ–å˜æ›´

**è€—æ—¶**ï¼šçº¦5-10åˆ†é’Ÿ

---

### æ–¹å¼äºŒï¼šå¿«é€Ÿæ›´æ–°ï¼ˆå°æ”¹åŠ¨ï¼‰

```bash
cd ~/xm_entrepreneurship_system

# æ‹‰å–æœ€æ–°ä»£ç 
git pull

# å¿«é€Ÿæ›´æ–°éƒ¨ç½²
chmod +x update.sh
./update.sh
```

**é€‚åˆåœºæ™¯**ï¼š
- ä»£ç å°æ”¹åŠ¨
- æ—¥å¸¸æ›´æ–°
- Bugä¿®å¤

**è€—æ—¶**ï¼šçº¦3-5åˆ†é’Ÿ

---

### æ–¹å¼ä¸‰ï¼šä»…é‡å¯å®¹å™¨ï¼ˆé…ç½®ä¿®æ”¹ï¼‰

```bash
# åªä¿®æ”¹äº†é…ç½®æ–‡ä»¶ï¼Œä¸éœ€è¦é‡æ–°æ‰“åŒ…
docker restart entrepreneurship_backend entrepreneurship_frontend

# æˆ–åªé‡å¯åç«¯
docker restart entrepreneurship_backend
```

**é€‚åˆåœºæ™¯**ï¼š
- åªä¿®æ”¹äº†application.yml
- ç¯å¢ƒå˜é‡è°ƒæ•´

**è€—æ—¶**ï¼šçº¦30ç§’

---

## ğŸš€ å…¸å‹å·¥ä½œæµç¨‹

### æ—¥å¸¸å¼€å‘æµç¨‹

```
1. æœ¬åœ°å¼€å‘ä»£ç 
   â”œâ”€ IDEAä¿®æ”¹Javaä»£ç 
   â””â”€ VSCodeä¿®æ”¹Vueä»£ç 

2. æœ¬åœ°æµ‹è¯•ï¼ˆå¯é€‰ï¼‰
   â”œâ”€ mvn spring-boot:run
   â””â”€ npm run dev

3. æäº¤ä»£ç 
   â”œâ”€ git add .
   â”œâ”€ git commit -m "feat: æ–°åŠŸèƒ½"
   â””â”€ git push

4. æœåŠ¡å™¨éƒ¨ç½²
   â”œâ”€ ssh ubuntu@119.29.152.18
   â”œâ”€ cd ~/xm_entrepreneurship_system
   â”œâ”€ git pull
   â””â”€ ./update.sh

5. è®¿é—®æµ‹è¯•
   â””â”€ http://119.29.152.18
```

---

## ğŸ“Š éƒ¨ç½²è„šæœ¬å¯¹æ¯”

| è„šæœ¬ | ç”¨é€” | è€—æ—¶ | ä½•æ—¶ä½¿ç”¨ |
|------|------|------|---------|
| `deploy.sh` | å®Œæ•´éƒ¨ç½² | 5-10åˆ†é’Ÿ | é¦–æ¬¡/å¤§æ”¹åŠ¨ |
| `update.sh` | å¿«é€Ÿæ›´æ–° | 3-5åˆ†é’Ÿ | æ—¥å¸¸æ›´æ–° |
| `docker restart` | ä»…é‡å¯ | 30ç§’ | é…ç½®ä¿®æ”¹ |

---

## ğŸ› ï¸ å¸¸ç”¨å‘½ä»¤

### æŸ¥çœ‹çŠ¶æ€
```bash
# æŸ¥çœ‹å®¹å™¨
docker ps

# æŸ¥çœ‹æ—¥å¿—
docker logs -f entrepreneurship_backend
docker logs -f entrepreneurship_frontend
docker logs entrepreneurship_mysql

# æŸ¥çœ‹èµ„æºä½¿ç”¨
docker stats --no-stream
```

### ç®¡ç†å®¹å™¨
```bash
# é‡å¯
docker restart entrepreneurship_backend
docker restart entrepreneurship_frontend

# åœæ­¢
docker stop entrepreneurship_backend entrepreneurship_frontend

# å¯åŠ¨
docker start entrepreneurship_backend entrepreneurship_frontend

# åˆ é™¤
docker rm -f entrepreneurship_backend entrepreneurship_frontend
```

### æŸ¥çœ‹GitçŠ¶æ€
```bash
# æŸ¥çœ‹å½“å‰ç‰ˆæœ¬
git log --oneline -5

# æŸ¥çœ‹è¿œç¨‹æ›´æ–°
git fetch
git status

# æ‹‰å–æœ€æ–°ä»£ç 
git pull
```

### æ•°æ®åº“ç®¡ç†
```bash
# è¿æ¥æ•°æ®åº“
docker exec -it entrepreneurship_mysql mysql -uroot -proot123456

# å¤‡ä»½æ•°æ®åº“
docker exec entrepreneurship_mysql mysqldump -uroot -proot123456 entrepreneurship_system > backup-$(date +%Y%m%d-%H%M%S).sql

# æ¢å¤æ•°æ®åº“
docker exec -i entrepreneurship_mysql mysql -uroot -proot123456 entrepreneurship_system < backup.sql
```

---

## ğŸ”§ æ•…éšœæ’æŸ¥

### é—®é¢˜1ï¼šå®¹å™¨å¯åŠ¨å¤±è´¥

```bash
# æŸ¥çœ‹è¯¦ç»†æ—¥å¿—
docker logs entrepreneurship_backend

# æ£€æŸ¥ç«¯å£å ç”¨
sudo netstat -tulpn | grep 9090

# åˆ é™¤å®¹å™¨é‡æ–°éƒ¨ç½²
docker rm -f entrepreneurship_backend
./deploy.sh
```

### é—®é¢˜2ï¼šæ•°æ®åº“è¿æ¥å¤±è´¥

```bash
# æ£€æŸ¥MySQLå®¹å™¨
docker ps | grep mysql

# æµ‹è¯•æ•°æ®åº“è¿æ¥
docker exec entrepreneurship_mysql mysql -uroot -proot123456 -e "SELECT 1"

# æŸ¥çœ‹MySQLæ—¥å¿—
docker logs entrepreneurship_mysql
```

### é—®é¢˜3ï¼šMavenæ‰“åŒ…å¤±è´¥

```bash
# æ¸…ç†Mavenç¼“å­˜
cd springboot
mvn clean
mvn package -DskipTests -X  # -Xæ˜¾ç¤ºè¯¦ç»†æ—¥å¿—
```

### é—®é¢˜4ï¼šå‰ç«¯æ‰“åŒ…å¤±è´¥

```bash
# åˆ é™¤node_modulesé‡æ–°å®‰è£…
cd vue
rm -rf node_modules
npm install
npm run build
```

### é—®é¢˜5ï¼š80ç«¯å£è¢«å ç”¨

```bash
# æŸ¥çœ‹å ç”¨
sudo fuser -k 80/tcp

# æˆ–ä½¿ç”¨å…¶ä»–ç«¯å£
docker run -d \
  --name entrepreneurship_frontend \
  --restart always \
  -p 8080:80 \
  --link entrepreneurship_backend:backend \
  entrepreneurship-frontend
```

---

## ğŸ¯ å¿«é€Ÿæ“ä½œå‘½ä»¤

### å®Œæ•´éƒ¨ç½²æµç¨‹
```bash
cd ~/xm_entrepreneurship_system
git pull
./deploy.sh
```

### å¿«é€Ÿæ›´æ–°æµç¨‹
```bash
cd ~/xm_entrepreneurship_system
git pull
./update.sh
```

### ä»…é‡å¯æœåŠ¡
```bash
docker restart entrepreneurship_backend entrepreneurship_frontend
```

### æŸ¥çœ‹è¿è¡ŒçŠ¶æ€
```bash
docker ps
docker logs --tail=50 entrepreneurship_backend
```

---

## ğŸ“ æ³¨æ„äº‹é¡¹

1. **é¦–æ¬¡éƒ¨ç½²å‰**ï¼š
   - ç¡®ä¿ä¸Šä¼ äº† `init.sql` æ–‡ä»¶
   - ç¡®ä¿MySQLå®¹å™¨å·²è¿è¡Œ

2. **éƒ¨ç½²è¿‡ç¨‹ä¸­**ï¼š
   - ä¸è¦ä¸­æ–­è„šæœ¬æ‰§è¡Œ
   - åç«¯æ‰“åŒ…éœ€è¦2-3åˆ†é’Ÿ
   - å‰ç«¯æ‰“åŒ…éœ€è¦1-2åˆ†é’Ÿ

3. **éƒ¨ç½²å®Œæˆå**ï¼š
   - ç­‰å¾…15-30ç§’è®©æœåŠ¡å®Œå…¨å¯åŠ¨
   - è®¿é—® http://119.29.152.18 æµ‹è¯•

4. **å¦‚æœå‡ºé”™**ï¼š
   - æŸ¥çœ‹è„šæœ¬è¾“å‡ºçš„é”™è¯¯ä¿¡æ¯
   - æŸ¥çœ‹å®¹å™¨æ—¥å¿—
   - æ ¹æ®é”™è¯¯æç¤ºä¿®å¤

---

## ğŸ‰ æˆåŠŸæ ‡å¿—

éƒ¨ç½²æˆåŠŸååº”è¯¥çœ‹åˆ°ï¼š

```
âœ“ éƒ¨ç½²å®Œæˆï¼

ğŸ“¦ å®¹å™¨çŠ¶æ€:
entrepreneurship_mysql       Up X minutes   0.0.0.0:3306->3306/tcp
entrepreneurship_backend     Up X seconds   0.0.0.0:5005->5005/tcp, 0.0.0.0:9090->9090/tcp
entrepreneurship_frontend    Up X seconds   0.0.0.0:80->80/tcp

ğŸŒ è®¿é—®åœ°å€:
  å‰ç«¯: http://119.29.152.18
  åç«¯: http://119.29.152.18:9090
  è°ƒè¯•: 119.29.152.18:5005
```

---

## ğŸ†˜ ç´§æ€¥æ¢å¤

å¦‚æœéƒ¨ç½²å‡ºé—®é¢˜ï¼Œå¿«é€Ÿæ¢å¤ï¼š

```bash
# å›æ»šåˆ°ä¸Šä¸€ä¸ªç‰ˆæœ¬
cd ~/xm_entrepreneurship_system
git log --oneline -5
git reset --hard <ä¸Šä¸€ä¸ªæäº¤çš„hash>
./deploy.sh
```

---

## ğŸ“ æŠ€æœ¯æ”¯æŒ

é‡åˆ°é—®é¢˜æ—¶ï¼Œæ”¶é›†ä»¥ä¸‹ä¿¡æ¯ï¼š

```bash
# 1. å®¹å™¨çŠ¶æ€
docker ps -a

# 2. åç«¯æ—¥å¿—
docker logs --tail=100 entrepreneurship_backend > backend.log

# 3. å‰ç«¯æ—¥å¿—
docker logs --tail=100 entrepreneurship_frontend > frontend.log

# 4. MySQLæ—¥å¿—
docker logs --tail=100 entrepreneurship_mysql > mysql.log

# 5. GitçŠ¶æ€
git status
git log --oneline -5
```

